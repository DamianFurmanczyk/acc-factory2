(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"9U7I":function(l,n,t){"use strict";t.r(n);var u=t("8Y7J");class e{}var s=t("pMnS"),a=t("H8D5"),o=t("s7LF"),i=t("SVse");const r={Austria:20,Belgium:21,Bulgaria:20,Croatia:25,Cyprus:19,"Czech Republic":21,Denmark:25,Estonia:20,Finland:24,France:20,Germany:19,Greece:24,Hungary:27,Ireland:23,Italy:22,Latvia:21,Lithuania:21,Luxembourg:17,Malta:18,Netherlands:21,Poland:23,Portugal:23,Romania:20,Slovakia:20,Slovenia:22,Spain:21,Sweden:25,"United Kingdom":20};class c{constructor(l){this.stateS=l,this.countryVatObjMap=r,this.getVat=new u.m}ngOnInit(){}ngAfterViewInit(){const l=this;var n,t,u,e,s,a,o,i,r;for(e=(n=document.getElementsByClassName("custom-select")).length,t=0;t<e;t++){for(s=(a=n[t].getElementsByTagName("select")[0]).length,(o=document.createElement("DIV")).setAttribute("class","select-selected"),o.innerHTML=a.options[a.selectedIndex].innerHTML,o.dataset.value=a.options[a.selectedIndex].value,n[t].appendChild(o),(i=document.createElement("DIV")).setAttribute("class","select-items select-hide"),u=1;u<s;u++)(r=document.createElement("DIV")).innerHTML=a.options[u].innerHTML,r.dataset.value=a.options[u].value,r.dataset.vatN=a.options[u].getElementsByTagName("span")[0]&&a.options[u].getElementsByTagName("span")[0].innerHTML,r.addEventListener("click",(function(n){console.log(this.dataset);const t=+this.dataset.vatN.substring(0,this.dataset.vatN.length-1);var u,e,s,a,o,i,r;for(console.log(t>0),console.log(t>0?t:0),l.stateS.swapUserCountry(this.dataset.value),l.stateS.changeVatRate(isNaN(this.dataset.vatN)?0:this.dataset.vatN),i=(a=this.parentNode.parentNode.getElementsByTagName("select")[0]).length,o=this.parentNode.previousSibling,e=0;e<i;e++)if(a.options[e].innerHTML==this.innerHTML){for(a.selectedIndex=e,o.innerHTML=this.innerHTML,r=(u=this.parentNode.getElementsByClassName("same-as-selected")).length,s=0;s<r;s++)u[s].removeAttribute("class");this.setAttribute("class","same-as-selected");break}o.click()})),i.appendChild(r);n[t].appendChild(i),o.addEventListener("click",(function(l){l.stopPropagation(),c(this),this.nextSibling.classList.toggle("select-hide"),this.classList.toggle("select-arrow-active")}))}function c(l){var n,t,u,e,s,a=[];for(n=document.getElementsByClassName("select-items"),t=document.getElementsByClassName("select-selected"),e=n.length,s=t.length,u=0;u<s;u++)l==t[u]?a.push(u):t[u].classList.remove("select-arrow-active");for(u=0;u<e;u++)a.indexOf(u)&&n[u].classList.add("select-hide")}document.addEventListener("click",c)}}var p=t("4J96"),b=u.nb({encapsulation:0,styles:[[""]],data:{}});function m(l){return u.Kb(0,[(l()(),u.pb(0,0,null,null,1,"span",[["class","span-right"]],null,null,null,null,null)),(l()(),u.Ib(1,null,["","%"]))],null,(function(l,n){l(n,1,0,n.component.countryVatObjMap[n.parent.context.$implicit.name])}))}function d(l){return u.Kb(0,[(l()(),u.pb(0,0,null,null,6,"option",[],null,null,null,null,null)),u.ob(1,147456,null,0,o.l,[u.k,u.B,[8,null]],{value:[0,"value"]},null),u.ob(2,147456,null,0,o.r,[u.k,u.B,[8,null]],{value:[0,"value"]},null),(l()(),u.pb(3,0,null,null,3,"p",[],null,null,null,null,null)),(l()(),u.Ib(4,null,[""," "])),(l()(),u.eb(16777216,null,null,1,null,m)),u.ob(6,16384,null,0,i.k,[u.M,u.J],{ngIf:[0,"ngIf"]},null)],(function(l,n){var t=n.component;l(n,1,0,n.context.$implicit.name),l(n,2,0,n.context.$implicit.name),l(n,6,0,t.countryVatObjMap[n.context.$implicit.name])}),(function(l,n){l(n,4,0,n.context.$implicit.name)}))}function g(l){return u.Kb(0,[(l()(),u.pb(0,0,null,null,8,"div",[["class","custom-select"]],null,null,null,null,null)),(l()(),u.Ib(1,null,[" "," "," "])),(l()(),u.pb(2,0,null,null,6,"select",[],null,null,null,null,null)),(l()(),u.pb(3,0,null,null,3,"option",[],null,null,null,null,null)),u.ob(4,147456,null,0,o.l,[u.k,u.B,[8,null]],{value:[0,"value"]},null),u.ob(5,147456,null,0,o.r,[u.k,u.B,[8,null]],{value:[0,"value"]},null),(l()(),u.Ib(6,null,[" "," "])),(l()(),u.eb(16777216,null,null,1,null,d)),u.ob(8,278528,null,0,i.j,[u.M,u.J,u.q],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var t=n.component;l(n,4,0,t.usersCountry),l(n,5,0,t.usersCountry),l(n,8,0,t.countries)}),(function(l,n){var t=n.component;l(n,1,0,t.usersCountry||"asdsasda",t.usersCountryName||"asdsasda2"),l(n,6,0,t.usersCountryName||t.usersCountry)}))}class h{constructor(l,n){this.formBuilder=l,this.stateS=n,this.nipInputStatus="",this.nipInputStatusText="*NOT NEEDED",this.showLoader=!1,this.form=this.formBuilder.group({fullname:["",o.n.required],email:["",o.n.required],nip:[""]});const t=this;this.form.controls.nip.valueChanges.subscribe(l=>{this.handleNipInput(l,t)})}get controls(){return this.form.controls}handleNipInput(l,n){const t=[l.substr(0,2),l.substr(2)],u=t[1].trim(),e=t[0].trim();return l.length>7&&!/^[A-Za-z]{2}$/.test(e)?(n.nipInputStatus="",n.nipInputStatusText="Wrong format"):(console.log(t),console.log(u),console.log(u),console.log(n),0==u.length?(n.nipInputStatus="",n.nipInputStatusText="*NOT NEEDED"):u.length<8?(n.nipInputStatusText="Too short",n.nipInputStatus="Error"):(n.nipInputStatus="",n.nipInputStatusText="Checking company information...",this.showLoader=!0,void n.stateS.loadCompanyData(e,u).subscribe(l=>{this.showLoader=!1,n.stateS.state.companyData&&(n.nipInputStatusText="Valid",n.nipInputStatus="Success"),n.stateS.state.companyDataLoadError&&(n.nipInputStatusText="Invalid",n.nipInputStatus="Error")},l=>{this.showLoader=!1,n.nipInputStatusText="Error, only EU countries are supported",n.nipInputStatus="Error"})))}}class y{constructor(l,n){this.presenter=l,this.stateS=n,this.getVat=new u.m,this.countriesObj={},this.formError="",this.paymentMethod="",this.countriesArr=[],this.sub=this.presenter.form.valueChanges.subscribe(l=>{console.log(l),this.stateS.state.checkoutFormState=l,this.stateS.state.checkoutFormState=Object.assign({},this.stateS.state.checkoutFormState,{valid:this.presenter.form.valid}),this.stateS.onCheckoutFormStateChange(this.stateS.state.checkoutFormState,this.presenter.form.valid,this.paymentMethod)})}set countries(l){console.log(l),console.log(l),this.countriesObj=l,l&&(this.countriesArr=Object.keys(l).map(n=>({name:l[n],key:n})),console.log(l),console.log(this.countriesArr))}setPaymentMethod(l){this.paymentMethod=l,this.stateS.onCheckoutFormStateChange(this.stateS.state.checkoutFormState,this.presenter.form.valid,this.paymentMethod)}ngOnInit(){}ngOnDestroy(){this.sub.unsubscribe()}}var v=u.nb({encapsulation:0,styles:[[""]],data:{}});function C(l){return u.Kb(2,[u.Cb(0,a.a,[]),(l()(),u.pb(1,0,null,null,77,"section",[["class","checkout"]],null,null,null,null,null)),(l()(),u.pb(2,0,null,null,26,"form",[["class","identity-form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,n,t){var e=!0;return"submit"===n&&(e=!1!==u.Ab(l,4).onSubmit(t)&&e),"reset"===n&&(e=!1!==u.Ab(l,4).onReset()&&e),e}),null,null)),u.ob(3,16384,null,0,o.s,[],null,null),u.ob(4,540672,null,0,o.f,[[8,null],[8,null]],{form:[0,"form"]},null),u.Fb(2048,null,o.b,null,[o.f]),u.ob(6,16384,null,0,o.k,[[4,o.b]],null,null),(l()(),u.pb(7,0,null,null,1,"h3",[["class","checkout_heading"]],null,null,null,null,null)),(l()(),u.Ib(-1,null,["Identity"])),(l()(),u.pb(9,0,null,null,1,"label",[["for","name"]],null,null,null,null,null)),(l()(),u.Ib(-1,null,["Full Name"])),(l()(),u.pb(11,0,null,null,5,"input",[["formControlName","fullname"],["id","name"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,t){var e=!0;return"input"===n&&(e=!1!==u.Ab(l,12)._handleInput(t.target.value)&&e),"blur"===n&&(e=!1!==u.Ab(l,12).onTouched()&&e),"compositionstart"===n&&(e=!1!==u.Ab(l,12)._compositionStart()&&e),"compositionend"===n&&(e=!1!==u.Ab(l,12)._compositionEnd(t.target.value)&&e),e}),null,null)),u.ob(12,16384,null,0,o.c,[u.B,u.k,[2,o.a]],null,null),u.Fb(1024,null,o.h,(function(l){return[l]}),[o.c]),u.ob(14,671744,null,0,o.e,[[3,o.b],[8,null],[8,null],[6,o.h],[2,o.q]],{name:[0,"name"]},null),u.Fb(2048,null,o.i,null,[o.e]),u.ob(16,16384,null,0,o.j,[[4,o.i]],null,null),(l()(),u.pb(17,0,null,null,1,"label",[["for","email"]],null,null,null,null,null)),(l()(),u.Ib(-1,null,["Email"])),(l()(),u.pb(19,0,null,null,5,"input",[["formControlName","email"],["id","email"],["type","email"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,t){var e=!0;return"input"===n&&(e=!1!==u.Ab(l,20)._handleInput(t.target.value)&&e),"blur"===n&&(e=!1!==u.Ab(l,20).onTouched()&&e),"compositionstart"===n&&(e=!1!==u.Ab(l,20)._compositionStart()&&e),"compositionend"===n&&(e=!1!==u.Ab(l,20)._compositionEnd(t.target.value)&&e),e}),null,null)),u.ob(20,16384,null,0,o.c,[u.B,u.k,[2,o.a]],null,null),u.Fb(1024,null,o.h,(function(l){return[l]}),[o.c]),u.ob(22,671744,null,0,o.e,[[3,o.b],[8,null],[8,null],[6,o.h],[2,o.q]],{name:[0,"name"]},null),u.Fb(2048,null,o.i,null,[o.e]),u.ob(24,16384,null,0,o.j,[[4,o.i]],null,null),(l()(),u.pb(25,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),u.Ib(-1,null,["Country"])),(l()(),u.pb(27,0,null,null,1,"app-country-select",[],null,[[null,"getVat"]],(function(l,n,t){var u=!0;return"getVat"===n&&(u=!1!==l.component.getVat.emit(t)&&u),u}),g,b)),u.ob(28,4308992,null,0,c,[p.a],{countries:[0,"countries"],usersCountry:[1,"usersCountry"],usersCountryName:[2,"usersCountryName"]},{getVat:"getVat"}),(l()(),u.pb(29,0,null,null,1,"p",[["style","margin: -2rem 0 3rem 0; height: 0;"]],null,null,null,null,null)),(l()(),u.Ib(30,null,["",""])),(l()(),u.pb(31,0,null,null,18,"section",[["class","order-summary"]],null,null,null,null,null)),(l()(),u.pb(32,0,null,null,4,"h4",[],null,null,null,null,null)),(l()(),u.Ib(-1,null,["Total cost "])),(l()(),u.pb(34,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),u.Ib(35,null,[""," ",""])),u.Eb(36,1),(l()(),u.pb(37,0,null,null,12,"ul",[["class","order-summary_list"]],null,null,null,null,null)),(l()(),u.pb(38,0,null,null,3,"li",[],null,null,null,null,null)),(l()(),u.Ib(-1,null,["Subtotal "])),(l()(),u.pb(40,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u.Ib(-1,null,["$120.49"])),(l()(),u.pb(42,0,null,null,3,"li",[],null,null,null,null,null)),(l()(),u.Ib(-1,null,["Fee "])),(l()(),u.pb(44,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u.Ib(-1,null,["$120.49"])),(l()(),u.pb(46,0,null,null,3,"li",[],null,null,null,null,null)),(l()(),u.Ib(-1,null,["Taxes "])),(l()(),u.pb(48,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u.Ib(-1,null,["$12.49"])),(l()(),u.pb(50,0,null,null,28,"section",[["class","payment"],["style","margin-top: 1rem;"]],null,null,null,null,null)),(l()(),u.pb(51,0,null,null,1,"h3",[["class","checkout_heading checkout_heading--last"]],null,null,null,null,null)),(l()(),u.Ib(-1,null,["Select payment method"])),(l()(),u.pb(53,0,null,null,25,"div",[["class","payment_methods-wrapper"]],null,null,null,null,null)),(l()(),u.pb(54,0,null,null,8,"figure",[["class","payment-method"]],null,null,null,null,null)),u.Fb(512,null,i.u,i.v,[u.q,u.r,u.k,u.B]),u.ob(56,278528,null,0,i.i,[i.u],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u.Db(57,{active:0}),(l()(),u.pb(58,0,null,null,4,"div",[["class","payment-method_img-wrapper"]],null,[[null,"click"]],(function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.setPaymentMethod("stripe")&&u),u}),null,null)),(l()(),u.pb(59,0,null,null,0,"img",[["alt","Credit card"],["src","assets/img/visa.svg"]],null,null,null,null,null)),(l()(),u.pb(60,0,null,null,0,"img",[["alt","Credit card"],["src","assets/img/mastercard.svg"]],null,null,null,null,null)),(l()(),u.pb(61,0,null,null,1,"figcaption",[],null,null,null,null,null)),(l()(),u.Ib(-1,null,[" Credit card "])),(l()(),u.pb(63,0,null,null,7,"figure",[["class","payment-method"]],null,null,null,null,null)),u.Fb(512,null,i.u,i.v,[u.q,u.r,u.k,u.B]),u.ob(65,278528,null,0,i.i,[i.u],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u.Db(66,{active:0}),(l()(),u.pb(67,0,null,null,3,"div",[["class","payment-method_img-wrapper"]],null,[[null,"click"]],(function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.setPaymentMethod("paypal")&&u),u}),null,null)),(l()(),u.pb(68,0,null,null,0,"img",[["alt","Paypal"],["src","assets/img/paypal.svg"]],null,null,null,null,null)),(l()(),u.pb(69,0,null,null,1,"figcaption",[],null,null,null,null,null)),(l()(),u.Ib(-1,null,[" Paypal "])),(l()(),u.pb(71,0,null,null,7,"figure",[["class","payment-method inactive"],["style","margin: 0 auto; width: auto !important;"]],null,null,null,null,null)),u.Fb(512,null,i.u,i.v,[u.q,u.r,u.k,u.B]),u.ob(73,278528,null,0,i.i,[i.u],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u.Db(74,{active:0}),(l()(),u.pb(75,0,null,null,3,"div",[["class","payment-method_img-wrapper"]],null,[[null,"click"]],(function(l,n,t){var u=!0;return"click"===n&&(u=u),u}),null,null)),(l()(),u.pb(76,0,null,null,0,"img",[["alt","Cryptocurrency"],["src","assets/img/bitcoinTransp.svg"]],null,null,null,null,null)),(l()(),u.pb(77,0,null,null,1,"figcaption",[],null,null,null,null,null)),(l()(),u.Ib(-1,null,[" Cryptocurrency "]))],(function(l,n){var t=n.component;l(n,4,0,t.presenter.form),l(n,14,0,"fullname"),l(n,22,0,"email"),l(n,28,0,t.countriesArr,t.countriesObj[t.usersCountry],t.usersCountryName);var u=l(n,57,0,"stripe"==t.paymentMethod);l(n,56,0,"payment-method",u);var e=l(n,66,0,"paypal"==t.paymentMethod);l(n,65,0,"payment-method",e);var s=l(n,74,0,"crypto"==t.paymentMethod);l(n,73,0,"payment-method inactive",s)}),(function(l,n){var t=n.component;l(n,2,0,u.Ab(n,6).ngClassUntouched,u.Ab(n,6).ngClassTouched,u.Ab(n,6).ngClassPristine,u.Ab(n,6).ngClassDirty,u.Ab(n,6).ngClassValid,u.Ab(n,6).ngClassInvalid,u.Ab(n,6).ngClassPending),l(n,11,0,u.Ab(n,16).ngClassUntouched,u.Ab(n,16).ngClassTouched,u.Ab(n,16).ngClassPristine,u.Ab(n,16).ngClassDirty,u.Ab(n,16).ngClassValid,u.Ab(n,16).ngClassInvalid,u.Ab(n,16).ngClassPending),l(n,19,0,u.Ab(n,24).ngClassUntouched,u.Ab(n,24).ngClassTouched,u.Ab(n,24).ngClassPristine,u.Ab(n,24).ngClassDirty,u.Ab(n,24).ngClassValid,u.Ab(n,24).ngClassInvalid,u.Ab(n,24).ngClassPending),l(n,30,0,t.formError);var e=t.currency,s=u.Jb(n,35,1,l(n,36,0,u.Ab(n,0),t.cartTotalPrice));l(n,35,0,e,s)}))}var f=t("wpu+"),I=t("cY+U"),S=t("7pSQ");class k{constructor(l){this.stateS=l}ngOnInit(){}}var A=u.nb({encapsulation:0,styles:[[""]],data:{}});function N(l){return u.Kb(0,[(l()(),u.pb(0,0,null,null,11,"main",[["class","main-content main-content--medium-breakpoint"]],null,null,null,null,null)),(l()(),u.pb(1,0,null,null,10,"section",[["class","grayish-bg"]],null,null,null,null,null)),(l()(),u.pb(2,0,null,null,9,"app-checkout-ui",[],null,[[null,"getVat"]],(function(l,n,t){var u=!0;return"getVat"===n&&(u=!1!==l.component.stateS.loadVatRate(t)&&u),u}),C,v)),u.Fb(512,null,h,h,[o.d,p.a]),u.ob(4,245760,null,0,y,[h,p.a],{cartTotalPrice:[0,"cartTotalPrice"],currency:[1,"currency"],vat:[2,"vat"],countries:[3,"countries"],usersCountry:[4,"usersCountry"],usersCountryName:[5,"usersCountryName"],selectedCountryCode:[6,"selectedCountryCode"]},{getVat:"getVat"}),u.Cb(131072,i.b,[u.h]),u.Cb(131072,i.b,[u.h]),u.Cb(131072,i.b,[u.h]),u.Cb(131072,i.b,[u.h]),u.Cb(131072,i.b,[u.h]),u.Cb(131072,i.b,[u.h]),u.Cb(131072,i.b,[u.h]),(l()(),u.pb(12,0,null,null,1,"app-cart",[],null,null,null,f.b,f.a)),u.ob(13,114688,null,0,I.a,[S.a,p.a],{contentType:[0,"contentType"],mediumHideBreakdownFlag:[1,"mediumHideBreakdownFlag"]},null)],(function(l,n){var t=n.component;l(n,4,0,u.Jb(n,4,0,u.Ab(n,5).transform(t.stateS.cartTotalPrice$)),u.Jb(n,4,1,u.Ab(n,6).transform(t.stateS.currency$)),u.Jb(n,4,2,u.Ab(n,7).transform(t.stateS.vatRate$)),u.Jb(n,4,3,u.Ab(n,8).transform(t.stateS.countries$)),u.Jb(n,4,4,u.Ab(n,9).transform(t.stateS.usersCountry$)),u.Jb(n,4,5,u.Ab(n,10).transform(t.stateS.usersCountryName$)),u.Jb(n,4,6,u.Ab(n,11).transform(t.stateS.selectedCountryCode$))),l(n,13,0,"checkout",!0)}),null)}function T(l){return u.Kb(0,[(l()(),u.pb(0,0,null,null,1,"app-checkout",[],null,null,null,N,A)),u.ob(1,114688,null,0,k,[p.a],null,null)],(function(l,n){l(n,1,0)}),null)}var E=u.lb("app-checkout",k,T,{},{},[]);class M{}var F=t("iInd");class L{}var w=t("aLe/"),V=t("/9Mi"),x=t("cqX/"),B=t("cOxe");t.d(n,"CheckoutModuleNgFactory",(function(){return D}));var D=u.mb(e,[],(function(l){return u.xb([u.yb(512,u.j,u.X,[[8,[s.a,E]],[3,u.j],u.v]),u.yb(4608,i.m,i.l,[u.s,[2,i.x]]),u.yb(4608,o.p,o.p,[]),u.yb(4608,o.d,o.d,[]),u.yb(1073742336,i.c,i.c,[]),u.yb(1073742336,M,M,[]),u.yb(1073742336,F.q,F.q,[[2,F.v],[2,F.m]]),u.yb(1073742336,L,L,[]),u.yb(1073742336,w.d,w.d,[]),u.yb(1073742336,V.a,V.a,[]),u.yb(1073742336,x.a,x.a,[]),u.yb(1073742336,B.a,B.a,[]),u.yb(1073742336,o.o,o.o,[]),u.yb(1073742336,o.g,o.g,[]),u.yb(1073742336,o.m,o.m,[]),u.yb(1073742336,e,e,[]),u.yb(1024,F.k,(function(){return[[{path:"",component:k}]]}),[])])}))}}]);